function inArray(e,t){for(var o=t.length,a=0;o>a;a++)if("object"==typeof t[a]){if(arrayCompare(t[a],e))return!0}else if(t[a]==e)return!0;return!1}function myconf(){var e=$.Deferred();return $.ajax({type:"POST",url:"feedback/",dataType:"json",data:"act=cfg",success:function(t){e.resolve(t.configs)}}),e}window.isset=function(e){if("object"==typeof e&&"undefined"==e)return!1;if(0===arguments.length)return!1;for(var t=arguments[0],o=0;o<arguments.length;o++){if("undefined"==typeof t||null===t)return!1;t=t[arguments[o+1]]}return!0};var mcf=myconf();mcf.done(function(e){function t(t){var o=$(t.form).find(".feedback"),a=(o.clone(),o.val(),e[t.act].cfg);$.ajax({type:"POST",url:"feedback/",cache:!1,dataType:"json",data:"act="+t.act+"&"+t.data,beforeSend:function(){$(o).prop("disabled",!0),$(o).addClass("loading")},success:function(e){if(isset(a.notify)&&!/none/i.test(a.notify)&&(/textbox/i.test(a.notify)&&(isset(e.errors)&&$.each(e.errors,function(e,t){$.jGrowl(t,{theme:"error",header:"Ошибка!",life:3e3})}),isset(e.infos)&&$.each(e.infos,function(e,t){$.jGrowl(t,{theme:"infos",header:"Внимание!",life:3e3})})),/color/i.test(a.notify)&&(isset(e.errors)&&$.each(e.errors,function(e){var o=/[a-z]/i;if(o.test(e)){var a=$(t.form).find("[name="+e+"]");1==a.length}}),isset(e.infos)))){var r="",i=$("<ul>",{id:"feedback-infolist"});if($.each(e.infos,function(e,t){r+="<li>"+t+"</li>"}),i.html(r),$.arcticmodal("close"),/modal/i.test(a.notify)){var n=$('<div class="box-modal" id="feedback-modal-box" />');n.html(i),n.prepend('<div class="modal-close arcticmodal-close"></div>'),$.arcticmodal({content:n})}}$(o).prop("disabled",!1),$(o).removeClass("loading"),isset(e.ok)&&1==e.ok&&$(t.form)[0].reset()}})}$(document).ready(function(){!function(){var t=$(".feedback");t.length>0&&t.each(function(){var t=$(this).closest("form"),o=t.attr("name");isset(e[o])&&isset(e[o].cfg.antispamjs)&&$(t).prepend('<input type="text" name="'+e[o].cfg.antispamjs+'" value="tesby" style="display:none;">')})}()}),$(document).on("mouseenter mouseover",".feedback",function(){var t=$(this).closest("form"),o=t.attr("name");isset(e[o])&&isset(e[o].cfg.antispamjs)&&$("input[name="+e[o].cfg.antispamjs+"]").val("")}),$(document).on("submit",".arctic-form",function(){var e=$(this).closest("form"),o=e.attr("name"),a={};return a.form=e,a.act=o,a.data=$(e).serialize(),t(a),!1})}),function(e){var t={type:"html",content:"",url:"",ajax:{},ajax_request:null,closeOnEsc:!0,closeOnOverlayClick:!0,clone:!1,overlay:{block:void 0,tpl:'<div class="arcticmodal-overlay"></div>',css:{backgroundColor:"#000",opacity:.6}},container:{block:void 0,tpl:'<div class="arcticmodal-container"><table class="arcticmodal-container_i"><tr><td class="arcticmodal-container_i2"></td></tr></table></div>'},wrap:void 0,body:void 0,errors:{tpl:'<div class="arcticmodal-error arcticmodal-close"></div>',autoclose_delay:2e3,ajax_unsuccessful_load:"Error"},openEffect:{type:"fade",speed:400},closeEffect:{type:"fade",speed:400},beforeOpen:e.noop,afterOpen:e.noop,beforeClose:e.noop,afterClose:e.noop,afterLoading:e.noop,afterLoadingOnShow:e.noop,errorLoading:e.noop},o=0,a=e([]),r={isEventOut:function(t,o){var a=!0;return e(t).each(function(){e(o.target).get(0)==e(this).get(0)&&(a=!1),0==e(o.target).closest("HTML",e(this).get(0)).length&&(a=!1)}),a}},i={getParentEl:function(t){var o=e(t);return o.data("arcticmodal")?o:(o=e(t).closest(".arcticmodal-container").data("arcticmodalParentEl"),o?o:!1)},transition:function(t,o,a,r){switch(r=void 0==r?e.noop:r,a.type){case"fade":"show"==o?t.fadeIn(a.speed,r):t.fadeOut(a.speed,r);break;case"none":"show"==o?t.show():t.hide(),r()}},prepare_body:function(t,o){e(".arcticmodal-close",t.body).unbind("click.arcticmodal").bind("click.arcticmodal",function(){return o.arcticmodal("close"),!1})},init_el:function(t,l){var c=t.data("arcticmodal");if(!c){if(c=l,o++,c.modalID=o,c.overlay.block=e(c.overlay.tpl),c.overlay.block.css(c.overlay.css),c.container.block=e(c.container.tpl),c.body=e(".arcticmodal-container_i2",c.container.block),l.clone?c.body.html(t.clone(!0)):(t.before('<div id="arcticmodalReserve'+c.modalID+'" style="display: none" />'),c.body.html(t)),i.prepare_body(c,t),c.closeOnOverlayClick&&c.overlay.block.add(c.container.block).click(function(o){r.isEventOut(e(">*",c.body),o)&&t.arcticmodal("close")}),c.container.block.data("arcticmodalParentEl",t),t.data("arcticmodal",c),a=e.merge(a,t),e.proxy(n.show,t)(),"html"==c.type)return t;if(void 0!=c.ajax.beforeSend){var s=c.ajax.beforeSend;delete c.ajax.beforeSend}if(void 0!=c.ajax.success){var d=c.ajax.success;delete c.ajax.success}if(void 0!=c.ajax.error){var f=c.ajax.error;delete c.ajax.error}var u=e.extend(!0,{url:c.url,beforeSend:function(){void 0==s?c.body.html('<div class="arcticmodal-loading" />'):s(c,t)},success:function(e){t.trigger("afterLoading"),c.afterLoading(c,t,e),void 0==d?c.body.html(e):d(c,t,e),i.prepare_body(c,t),t.trigger("afterLoadingOnShow"),c.afterLoadingOnShow(c,t,e)},error:function(){t.trigger("errorLoading"),c.errorLoading(c,t),void 0==f?(c.body.html(c.errors.tpl),e(".arcticmodal-error",c.body).html(c.errors.ajax_unsuccessful_load),e(".arcticmodal-close",c.body).click(function(){return t.arcticmodal("close"),!1}),c.errors.autoclose_delay&&setTimeout(function(){t.arcticmodal("close")},c.errors.autoclose_delay)):f(c,t)}},c.ajax);c.ajax_request=e.ajax(u),t.data("arcticmodal",c)}},init:function(o){if(o=e.extend(!0,{},t,o),!e.isFunction(this))return this.each(function(){i.init_el(e(this),e.extend(!0,{},o))});if(void 0==o)return void e.error("jquery.arcticmodal: Uncorrect parameters");if(""==o.type)return void e.error('jquery.arcticmodal: Don\'t set parameter "type"');switch(o.type){case"html":if(""==o.content)return void e.error('jquery.arcticmodal: Don\'t set parameter "content"');var a=o.content;return o.content="",i.init_el(e(a),o);case"ajax":return""==o.url?void e.error('jquery.arcticmodal: Don\'t set parameter "url"'):i.init_el(e("<div />"),o)}}},n={show:function(){var t=i.getParentEl(this);if(t===!1)return void e.error("jquery.arcticmodal: Uncorrect call");var o=t.data("arcticmodal");if(o.overlay.block.hide(),o.container.block.hide(),e("BODY").append(o.overlay.block),e("BODY").append(o.container.block),o.beforeOpen(o,t),t.trigger("beforeOpen"),"hidden"!=o.wrap.css("overflow")){o.wrap.data("arcticmodalOverflow",o.wrap.css("overflow"));var r=o.wrap.outerWidth(!0);o.wrap.css("overflow","hidden");var n=o.wrap.outerWidth(!0);n!=r&&o.wrap.css("marginRight",n-r+"px")}return a.not(t).each(function(){var t=e(this).data("arcticmodal");t.overlay.block.hide()}),i.transition(o.overlay.block,"show",a.length>1?{type:"none"}:o.openEffect),i.transition(o.container.block,"show",a.length>1?{type:"none"}:o.openEffect,function(){o.afterOpen(o,t),t.trigger("afterOpen")}),t},close:function(){return e.isFunction(this)?void a.each(function(){e(this).arcticmodal("close")}):this.each(function(){var t=i.getParentEl(this);if(t===!1)return void e.error("jquery.arcticmodal: Uncorrect call");var o=t.data("arcticmodal");o.beforeClose(o,t)!==!1&&(t.trigger("beforeClose"),a.not(t).last().each(function(){var t=e(this).data("arcticmodal");t.overlay.block.show()}),i.transition(o.overlay.block,"hide",a.length>1?{type:"none"}:o.closeEffect),i.transition(o.container.block,"hide",a.length>1?{type:"none"}:o.closeEffect,function(){o.afterClose(o,t),t.trigger("afterClose"),o.clone||e("#arcticmodalReserve"+o.modalID).replaceWith(o.body.find(">*")),o.overlay.block.remove(),o.container.block.remove(),t.data("arcticmodal",null),e(".arcticmodal-container").length||(o.wrap.data("arcticmodalOverflow")&&o.wrap.css("overflow",o.wrap.data("arcticmodalOverflow")),o.wrap.css("marginRight",0))}),"ajax"==o.type&&o.ajax_request.abort(),a=a.not(t))})},setDefault:function(o){e.extend(!0,t,o)}};e(function(){t.wrap=e(document.all&&!document.querySelector?"html":"body")}),e(document).bind("keyup.arcticmodal",function(e){var t=a.last();if(t.length){var o=t.data("arcticmodal");o.closeOnEsc&&27===e.keyCode&&t.arcticmodal("close")}}),e.arcticmodal=e.fn.arcticmodal=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("jquery.arcticmodal: Method "+t+" does not exist"):i.init.apply(this,arguments)}}(jQuery),function(e){var t=function(){return!1===e.support.boxModel&&e.support.objectAll&&$support.leadingWhitespace}();e.jGrowl=function(t,o){0==e("#jGrowl").size()&&e('<div id="jGrowl"></div>').addClass(o&&o.position?o.position:e.jGrowl.defaults.position).appendTo("body"),e("#jGrowl").jGrowl(t,o)},e.fn.jGrowl=function(t,o){if(e.isFunction(this.each)){var a=arguments;return this.each(function(){void 0==e(this).data("jGrowl.instance")&&(e(this).data("jGrowl.instance",e.extend(new e.fn.jGrowl,{notifications:[],element:null,interval:null})),e(this).data("jGrowl.instance").startup(this)),e.isFunction(e(this).data("jGrowl.instance")[t])?e(this).data("jGrowl.instance")[t].apply(e(this).data("jGrowl.instance"),e.makeArray(a).slice(1)):e(this).data("jGrowl.instance").create(t,o)})}},e.extend(e.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",glue:"after",theme:"default",themeState:"",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(t,o){var o=e.extend({},this.defaults,o);"undefined"!=typeof o.speed&&(o.openDuration=o.speed,o.closeDuration=o.speed),this.notifications.push({message:t,options:o}),o.log.apply(this.element,[this.element,t,o])},render:function(t){var o=this,a=t.message,r=t.options;r.themeState=""==r.themeState?"":"ui-state-"+r.themeState;var t=e('<div class="jGrowl-notification '+r.themeState+" ui-corner-all"+(void 0!=r.group&&""!=r.group?" "+r.group:"")+'"><div class="jGrowl-close">'+r.closeTemplate+'</div><div class="jGrowl-header">'+r.header+'</div><div class="jGrowl-message">'+a+"</div></div>").data("jGrowl",r).addClass(r.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){e(this).parent().trigger("jGrowl.close")}).parent();e(t).bind("mouseover.jGrowl",function(){e("div.jGrowl-notification",o.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){e("div.jGrowl-notification",o.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){0!=r.beforeOpen.apply(t,[t,a,r,o.element])&&e(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){0!=r.open.apply(t,[t,a,r,o.element])&&("after"==r.glue?e("div.jGrowl-notification:last",o.element).after(t):e("div.jGrowl-notification:first",o.element).before(t),e(this).animate(r.animateOpen,r.openDuration,r.easing,function(){e.support.opacity===!1&&this.style.removeAttribute("filter"),null!=e(this).data("jGrowl")&&(e(this).data("jGrowl").created=new Date),e(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){r.afterOpen.apply(t,[t,a,r,o.element])}).bind("jGrowl.beforeClose",function(){0!=r.beforeClose.apply(t,[t,a,r,o.element])&&e(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){e(this).data("jGrowl.pause",!0),e(this).animate(r.animateClose,r.closeDuration,r.easing,function(){e.isFunction(r.close)?r.close.apply(t,[t,a,r,o.element])!==!1&&e(this).remove():e(this).remove()})}).trigger("jGrowl.beforeOpen"),""!=r.corners&&void 0!=e.fn.corner&&e(t).corner(r.corners),e("div.jGrowl-notification:parent",o.element).size()>1&&0==e("div.jGrowl-closer",o.element).size()&&0!=this.defaults.closer&&e(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(o.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){e(this).siblings().trigger("jGrowl.beforeClose"),e.isFunction(o.defaults.closer)&&o.defaults.closer.apply(e(this).parent()[0],[e(this).parent()[0]])})},update:function(){e(this.element).find("div.jGrowl-notification:parent").each(function(){void 0!=e(this).data("jGrowl")&&void 0!=e(this).data("jGrowl").created&&e(this).data("jGrowl").created.getTime()+parseInt(e(this).data("jGrowl").life)<(new Date).getTime()&&1!=e(this).data("jGrowl").sticky&&(void 0==e(this).data("jGrowl.pause")||1!=e(this).data("jGrowl.pause"))&&e(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(0==this.defaults.pool||e(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),e(this.element).find("div.jGrowl-notification:parent").size()<2&&e(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){e(this).remove()})},startup:function(o){this.element=e(o).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){e(o).data("jGrowl.instance").update()},parseInt(this.defaults.check)),t&&e(this.element).addClass("ie6")},shutdown:function(){e(this.element).removeClass("jGrowl").find("div.jGrowl-notification").remove(),clearInterval(this.interval)},close:function(){e(this.element).find("div.jGrowl-notification").each(function(){e(this).trigger("jGrowl.beforeClose")})}}),e.jGrowl.defaults=e.fn.jGrowl.prototype.defaults}(jQuery);